<%- include('./header'); %>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <br>
            <ul class="nav nav-tabs">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="/" >                
                        Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/api">API</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/mqtt">MQTT</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/settings">Settings</a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

<div class="tab-content" id="myTabContent">
    <div class="container-fluid tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
        <br>
        <div class="row justify-content-between" style="min-height: 42px;">
            <div class="col-3">
                <h3>Dashboard</h3>
            </div>
            <div class="col-3 float-right" style="min-width: 120px;">
                <div id="receiver-box" class="float-right">
                    <div style="text-align: right;"><strong>Receiver Status:</strong></div>
                    <div style="text-align: right;" id="receiver-status"></div>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-bordered table-sm" font-family: monospace>
                        <thead>
                            <tr>
                                <th style="width: 20%">Nickname</th>
                                <th style="width: 10%">UID</th>
                                <th style="width: 10%">Type</th>
                                <th style="width: 20%">Last Updated</th>
                                <th style="width: 7.5%">Active</th>
                                <th style="width: 5%"></th> <!-- for link symbol-->
                            </tr>
                        </thead>
    
                        <tbody id="sensor_table">
                                <% sensors.forEach(sensor => { %>
                                <tr uid='<%= sensor.uid%>' onclick="document.location='/sensors/<%= sensor.uid%>';" last-seen="<%= sensor.last_seen%>" >
                                        <td><%= sensor.name %></td>
                                        <td><%= sensor.uid %></td>
                                        <td><%= sensor.type %></td>
                                        <td><%= sensor.last_seen %></td>
                                        <td><i class="fa fa-circle <%= sensor.status %>" style="margin-left: 15px;"></i></td>
                                        <td><i class="fa fa-external-link-alt"></i></td>
                                </tr>
                                <% });%>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">
        <br>
        <h3>Settings</h3>
        <br>
        <form>
            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="cloudCheck" name="cloud_mqtt"
                
                <label class="form-check-label" for="cloudCheck">Cloud MQTT</label>
            </div>
            <button class="btn btn-primary" id="settingsSubmit" type="submit" >Submit</button>
        </form>
    </div>
</div>

</body>
</html>