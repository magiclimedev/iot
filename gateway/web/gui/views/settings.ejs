<%- include('./header'); %>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <br>
            <ul class="nav nav-tabs">
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="/" >                
                        Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/api">API</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/mqtt">MQTT</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" href="/settings">Settings</a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

<div class="tab-content" id="myTabContent">
    <div class="container-fluid tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
        <br>
        <div class="row justify-content-center" style="min-height: 42px;">
            <div class="col-3">
                <h3 class="text-center" >Settings</h3>
            </div>
        </div>
        <br>
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form class="card shadow-sm rounded" action="">
        
        <% for(let setting of settings) {%>
            <div 
            name="<%= setting.name %>"
            condition="<%= setting.condition %>"
            class="input-group <%= setting.htmlClassAdd() %>">
            
            <label class="text-large mb-0 ml-4"><%= setting.formatName() %></label>
            <%_ if(setting.htmlInputType()!=="checkbox"){ %>
                <div>

                </div>
                <%_ } %>
            <input
            name="<%= setting.name%>"
            data-dependents="<%= setting.dependents.join(';') %>"
            type="<%= setting.htmlInputType() %>" 
            value="<%= setting.convertFromString() %>" >
            <%_ if(setting.htmlInputType()!=="checkbox"){ %>
                    <div class="input-btns-cont">

                        <button data-setting="<%= setting.name %>" class="btn btn-sm btn-primary switch on edit-btn">
                            <i class="fa fa-edit"></i>
                        </button>
                        <button data-setting="<%= setting.name %>" class="btn btn-sm btn-danger switch reset-btn">
                            <i class="fa fa-trash"></i>
                        </button>
                        <button data-setting="<%= setting.name %>" class="btn btn-sm btn-success switch save-btn">
                            <i class="fa fa-save"></i>
                        </button>
                    </div>
                        <%_ } %>
            </div>
        <% } %>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
<script src="/js/settings.js"></script>
</html>